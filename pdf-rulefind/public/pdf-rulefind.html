<!Doctype html>
<html lang="en">
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script>
            //select all books in the book list
            function selectAll() {
                var bookListNodeOptions = document.getElementById("booklist").options;
                for (var i in bookListNodeOptions) {
                    bookListNodeOptions[i].selected=true; 
                }
            }

            //populate the book list
            function populateBookList() {
                $.ajax({
                    url: 'http://localhost:8080/books',
                    type: 'GET',
                    success: function( data ) { 
                        var bookListNode = document.getElementById("booklist");
                        var bookSet = "";
                        var items = JSON.parse(data);
                        for (var i in items) {
                            var option = document.createElement("option");
                            option.setAttribute('value', items[i]);
                            option.appendChild(document.createTextNode(items[i]));
                            bookListNode.appendChild(option);
                        }
                        bookListNode.hide().show(0);
                    }
                });
            }
        </script>
        <title>
            "Search Rulebook Library"
        </title>
        <body onload="populateBookList();">
            <h1>Search PDF Rulebooks for specific rules</h1>
            <div ng-app="">
                <p>{{"this will" + " use angular"}}</p>
                <form>
                    <input type="text" id="keyword-list">
                    <br/>
                    <button onclick="selectAll()">Select All</button>
                    <br/>
                    <select multiple id="booklist">
                    </select>
                    <br/>
                    <input type="submit" value="Search for keywords">
                </form>
            </div>
        </body>
    </head>
</html>
